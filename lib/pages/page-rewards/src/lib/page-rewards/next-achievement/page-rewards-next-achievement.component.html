<feature-prize-search #featurePrizeSearch />
<feature-coins
  #featureCoins
  (coinsUpdated)="featureCoins.loadNextPrize(featurePrizeSearch)"
/>
@if (featurePrizeSearch.nextPrize$ | async; as nextPrize) {
  <div class="page-rewards-next-achievement">
    <div class="page-rewards-next-achievement__prize-header">
      <span class="page-rewards-next-achievement__prize-icon body-small">
        <fast-svg name="diamond" />
      </span>
      <div class="page-rewards-next-achievement__prize-name body-small" i18n>
        Next reward
      </div>
    </div>
    <div class="page-rewards-next-achievement__prize-name body-extra-small">
      {{ nextPrize.name }}
    </div>
    @let highestRewardValue = highestReward();
    @if (highestRewardValue !== null) {
      <page-rewards-next-achievement-progress-bar
        [coins]="featureCoins.coins()"
        [highestReward]="highestRewardValue"
        [nextPrizeRequiredPoints]="nextPrize.requiredPoints"
      />
    }
  </div>
} @else {
  <a
    class="btn-secondary"
    [routerLink]="['./']"
    [fragment]="'settings'"
    [skipLocationChange]="true"
    i18n
    >set prize</a
  >
}
